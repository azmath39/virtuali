<h2>Sign up</h2>
<%= form_for(resource, :as => resource_name, :html => { :id => 'payment-form'}, :url => registration_path(resource_name))  do |f| %>
  <%= devise_error_messages! %>
  <%#= render 'shared/error_messages', :target => @user %>
  <div>
    <%= f.label :email %>
    <%= f.email_field :email, :autofocus => true %>
  </div>
  <div>
    <%= f.label :password %>
    <%= f.password_field :password %>
  </div>
  <div>
    <%= f.label :password_confirmation %>
    <%= f.password_field :password_confirmation %>
  </div>
<h3>Product Selection</h3>
<%@i=0%>
<% Product.all.each do |x| %>
<div>
<%= check_box_tag "user[product][#{@i}]", x.id %>&nbsp;<%=  x.name%>
</div><br/>
<% @i+=1 %>
<% end %><br />
<div>
  <%= link_to "Ok",'#', :onclick=>"packages()", :class => 'btn' %>
</div>
<div id="packages">

</div>
<h3>Payment Process</h3>
<div class = "payment-errors">
</div>
<%= hidden_field_tag 'total_amount' %>
<div id="amount_label">
  
</div>
  <div class="field">
    <%= label_tag :card_number, "Credit Card Number" %>
    <%= text_field_tag "card-number", nil, name: nil %>
  </div>
  <div class="field">
    <%= label_tag :card_code, "Security Code on Card (CVV)" %>
    <%= text_field_tag "card-cvc", nil, name: nil %>
  </div>
  <div>
    <%= label_tag :card_month, "Card Expiration" %>
    <%= select_month nil, {add_month_numbers: true}, {name: nil, id: "card-expiry-month"} %>
    <%= select_year nil, {start_year: Date.today.year, end_year: Date.today.year+15}, {name: nil, id: "card-expiry-year"} %>
  </div>
<div><%= f.submit "Sign up" %>
</div>
<% end %>
<%#= render "devise/shared/links" %>
